(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),i=a.n(r),c=(a(68),a(10)),s=a(2),o=a(13),m=(a(69),a(1)),u={hidden:{originX:0,scale:0},visible:{scale:1,transition:{duration:1,type:"spring"}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{delay:1}}},p={hidden:{opacity:0,pathLength:0},visible:{opacity:1,pathLength:1,transition:{delay:2,duration:2,ease:"easeInOut"}}};var E=function(){return l.a.createElement(m.a.svg,{xmlns:"http://www.w3.org/2000/svg",width:"9rem",height:"9rem",fill:"none",viewBox:"0 0 373 264",variants:u,initial:"hidden",animate:"visible",className:"left"},l.a.createElement("ellipse",{cx:"248.5",cy:"108.5",fill:"#F391E9",rx:"124.5",ry:"98.5"}),l.a.createElement("ellipse",{cx:"124.5",cy:"108.5",fill:"#F391E9",rx:"124.5",ry:"98.5"}),l.a.createElement("circle",{cx:"185",cy:"78",r:"78",fill:"#F391E9"}),l.a.createElement("ellipse",{cx:"248.5",cy:"157.5",fill:"#F391E9",rx:"124.5",ry:"106.5"}),l.a.createElement("ellipse",{cx:"124.5",cy:"157.5",fill:"#F391E9",rx:"124.5",ry:"106.5"}),l.a.createElement("g",{style:{mixBlendMode:"darken"},filter:"url(#filter0_d)"},l.a.createElement(m.a.path,{stroke:"#A613A0",strokeWidth:"6",d:"M173.299 202.472c-43.131 10.769-75.258-2.751-87.65-45.472",variants:p})),l.a.createElement(m.a.path,{fill:"#AE1784",d:"M160.782 109.5c0 22.92-9.452 21-28.782 21s-32.718 1.92-32.718-21S112.67 63 132 63c19.33 0 28.782 23.58 28.782 46.5zM266.782 109.5c0 22.92-9.452 21-28.782 21s-32.718 1.92-32.718-21S218.67 63 238 63c19.33 0 28.782 23.58 28.782 46.5z",variants:d}),l.a.createElement("defs",null,l.a.createElement("filter",{id:"filter0_d",width:"99.258",height:"60.837",x:"78.768",y:"156.164",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},l.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),l.a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),l.a.createElement("feOffset",{dy:"4"}),l.a.createElement("feGaussianBlur",{stdDeviation:"2"}),l.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),l.a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),l.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},h={hidden:{x:"-100vw"},visible:{x:0,transition:{delay:2.5,duration:1,stiffness:120}}},v={hover:{scale:1.2,transition:{yoyo:1/0,duration:.4}}};function b(){return l.a.createElement("div",null,l.a.createElement(E,null),l.a.createElement(m.a.h2,{variants:h,initial:"hidden",animate:"visible",className:"pink-text left title-font "}," ","EpicChat"),l.a.createElement(c.b,{to:"/signup"}," ",l.a.createElement(m.a.button,{id:"signupbtn",variants:v,whileHover:"hover",className:"btn-large  text-font waves-effect wave-light right pink"},"Sign up ",l.a.createElement("i",{className:"material-icons right"},"last_page"))),l.a.createElement(c.b,{to:"/login"},l.a.createElement("button",{className:"btn-large  text-font waves-effect wave-light right pink lighten-3",id:"loginbtn"},"Log in")))}var g={hover:{scale:1.3,textShadow:"0px 0px 8px rgb(255,255,255)",boxShadow:"0px 0px 8px rgb(255,255,255)",transition:{yoyo:1/0}}};function f(){return l.a.createElement("div",{className:"bar row "},l.a.createElement("ul",{className:"tabs col s12"},l.a.createElement("li",{className:"col s4 right"},l.a.createElement("input",{type:"text",placeholder:"search"})),l.a.createElement(m.a.li,{variants:g,whileHover:"hover",className:"tab col s3 left text-font underline"},l.a.createElement(c.b,{to:"/"},"Home")),l.a.createElement(m.a.li,{variants:g,whileHover:"hover",className:"tab col s3 left text-font underline"},l.a.createElement(c.b,{to:"/create"},"Create Room"))))}var N=a(5),x=a(9),y=a.n(x);function w(){var e={position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0},t=Object(n.useState)({}),a=Object(N.a)(t,2),r=a[0],i=a[1],c=function(e){switch(e.target.id){case"emailInput":r.email=e.target.value;break;case"passwordInput":r.password=e.target.value;break;default:r.username=e.target.value}},s=function(){document.getElementById("usernameInput").value="",document.getElementById("emailInput").value="",document.getElementById("passwordInput").value=""};return l.a.createElement("div",{className:"container "},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"card center lighten-3"},l.a.createElement("form",{className:"col s12 m6 l2 z-depth-2 card-panel ",action:"",id:"login-form",onSubmit:function(t){t.preventDefault(),i({username:r.username,email:r.email,pass:r.password}),y()({url:"/user/signup",method:"POST",data:r}).then((function(t){Object(o.b)(t.data,e)})).catch((function(e){return console.log(e)})),s()}},l.a.createElement("div",{className:"card-title"},l.a.createElement("h3",{className:"pink-text text-font"},"Sign up")),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"input-field s12 red-text text-lighten-3"},l.a.createElement("i",{className:"material-icons prefix"},"face"),l.a.createElement("input",{onChange:c,id:"usernameInput",type:"text",required:!0}),l.a.createElement("label",{htmlFor:"usernameInput"},"Username")),l.a.createElement("div",{className:"input-field s12 red-text text-lighten-3"},l.a.createElement("i",{className:"material-icons prefix"},"email"),l.a.createElement("input",{onChange:c,id:"emailInput",type:"email",required:!0}),l.a.createElement("label",{htmlFor:"emailInput"},"Email")),l.a.createElement("div",{className:"input-field s12 red-text text-lighten-3"},l.a.createElement("i",{className:"material-icons prefix"},"lock_outline"),l.a.createElement("input",{onChange:c,id:"passwordInput",type:"password",required:!0}),l.a.createElement("label",{htmlFor:"passwordInput"},"Password"))),l.a.createElement("div",null,l.a.createElement(m.a.button,{variants:{hover:{scale:1.2,transition:{duration:.09}}},whileHover:"hover",href:"#",className:"btn-large waves-effect red text-font",type:"submit"},"Login"," ",l.a.createElement(m.a.i,{variants:{hover:{rotate:-50,transition:{duration:.09}}},className:"material-icons right"},"send"))))))}function k(){var e={position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0},t=Object(n.useState)({email:"",password:""}),a=Object(N.a)(t,2),r=a[0],i=a[1],c=function(e){switch(e.target.id){case"emailInput":r.email=e.target.value;break;case"passwordInput":r.password=e.target.value}},s=function(){document.getElementById("emailInput").value="",document.getElementById("passwordInput").value=""};return l.a.createElement("div",{className:"container "},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"card center lighten-3"},l.a.createElement("form",{className:"col s12 m6 l2 z-depth-2 card-panel ",action:"",id:"login-form",onSubmit:function(t){t.preventDefault(),i({email:r.email,pass:r.password}),y()({url:"/user/login",method:"POST",data:r}).then((function(t){var a=t.data,n=a.msg,l=a.user;console.log(l),Object(o.b)(n,e)})).catch((function(e){return console.log(e)})),s()}},l.a.createElement("div",{className:"card-title"},l.a.createElement("h3",{className:"pink-text text-font"},"Log in")),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"input-field s12 red-text text-lighten-3"},l.a.createElement("i",{className:"material-icons prefix"},"email"),l.a.createElement("input",{onChange:c,id:"emailInput",type:"email",required:!0}),l.a.createElement("label",{htmlFor:"emailInput"},"Email")),l.a.createElement("div",{className:"input-field s12 red-text text-lighten-3"},l.a.createElement("i",{className:"material-icons prefix"},"lock_outline"),l.a.createElement("input",{onChange:c,id:"passwordInput",type:"password",required:!0}),l.a.createElement("label",{htmlFor:"passwordInput"},"Password"))),l.a.createElement("div",null,l.a.createElement(m.a.button,{variants:{hover:{scale:1.2,transition:{duration:.09}}},whileHover:"hover",href:"#",className:"btn-large waves-effect red text-font",type:"submit"},"Login"," ",l.a.createElement(m.a.i,{variants:{hover:{rotate:-50,transition:{duration:.09}}},className:"material-icons right"},"send"))))))}var O=a(32),I=a.n(O),S=a(60);function j(){var e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},t={hidden:{y:"100vh"},visible:{y:0,transition:{staggerChildren:.8,duration:1,type:"spring",damping:40}}},a={hover:{scale:1.1,transition:{duration:.1}}},r={hidden:{y:0,opacity:0},visible:{y:[-12,0],opacity:1,transition:{duration:.5,yoyo:1/0,ease:"easeInOut"}}};Object(n.useEffect)((function(){return d(),function(){}}),[]);var i=Object(n.useState)([]),s=Object(N.a)(i,2),o=s[0],u=s[1],d=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y()({url:"/room/getall",method:"GET"}).then((function(e){return u(e.data),e.data})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,0===o.length?l.a.createElement(m.a.p,{variants:e,initial:"hidden",animate:"visible",className:"container loading-container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(m.a.td,{variants:r,className:"loading-ball pink"}),l.a.createElement(m.a.td,{variants:r,className:"loading-ball pink"}),l.a.createElement(m.a.td,{variants:r,className:"loading-ball pink"})):void 0,function(n){if(0!==n.length){var r=n.map((function(e){return l.a.createElement(m.a.li,{className:"card room",variants:t,key:e._id},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"card-title title-font"},e.roomName),l.a.createElement("div",null,l.a.createElement("span",{className:"btn disabled lighten-4 text-font"},l.a.createElement("span",{className:"black-text"},e.numUsers),l.a.createElement("i",{className:"material-icons right black-text"},"group")),l.a.createElement(c.b,{to:"/room/".concat(e._id)},l.a.createElement(m.a.span,{variants:a,whileHover:"hover",className:"btn pink lighten-1 right title-font"},"Join",l.a.createElement("i",{className:"material-icons white-text room-icons right","data-tooltip":"let me in!"},"keyboard_tab"))))))}));return l.a.createElement(m.a.ul,{id:"roomList",initial:"hidden",animate:"visible",className:"container",variants:e},r)}}(o))}function C(){var e=Object(n.useState)({}),t=Object(N.a)(e,2),a=t[0],r=t[1],i=function(){document.getElementById("roomName").value=""},c={position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0};return l.a.createElement("div",{className:"container "},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"card center lighten-3"},l.a.createElement("form",{className:"col s12 m6 l2 z-depth-2 card-panel ",id:"create-room-form",onSubmit:function(e){e.preventDefault(),r({roomName:a.roomName}),y()({url:"/room/create",method:"POST",data:a}).then((function(e){Object(o.b)(e.data,c)})).catch((function(e){return console.log(e)})),i()}},l.a.createElement("div",{className:"card-title"},l.a.createElement("h3",{className:"pink-text title-font"},"Create a fun room")),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"input-field s12 red-text text-lighten-3"},l.a.createElement("i",{className:"material-icons prefix"},"local_library"),l.a.createElement("input",{onChange:function(e){switch(e.target.id){case"roomName":a.roomName=e.target.value}},id:"roomName",type:"text",required:!0}),l.a.createElement("label",{htmlFor:"roomName"},"Room Name "))),l.a.createElement("div",null,l.a.createElement(m.a.button,{variants:{hover:{scale:1.2,transition:{duration:.09}}},whileHover:"hover",href:"#",className:"btn-large waves-effect red title-font",type:"submit"},"Create"," ",l.a.createElement(m.a.i,{variants:{hover:{rotate:-50,transition:{duration:.09}}},className:"material-icons right"},"send"))))))}var B=a(62),F=a(61),_=a.n(F),H=a(33),U=a.n(H);function L(e){var t=e.match.params.room_id,a=Object(n.useState)(0),r=Object(N.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)([]),o=Object(N.a)(s,2),u=o[0],d=o[1],p=Object(n.useState)([]),E=Object(N.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)({}),g=Object(N.a)(b,2),f=g[0],x=g[1],w=Object(n.useState)("GUEST"),k=Object(N.a)(w,2),O=k[0],I=k[1];Object(n.useEffect)((function(){F();var e=_()("/");return x(e),v([]),H(e,t),function(){e.disconnect(),v([])}}),[]);var S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},j={hidden:{y:0,opacity:0},visible:{y:[-12,0],opacity:1,transition:{duration:.5,yoyo:1/0,ease:"easeInOut"}}},C={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},F=function(){y()({url:"/room/".concat(t),method:"GET"}).then((function(e){var t=e.data.room;c(t)})).catch((function(e){return console.log(e)}))},H=function(e,t){return console.log("chat server connected"),e.emit("room",{room_id:t}),e.on("roomUsers",(function(e){var t=e.roomUsers;console.log("users updated"),d(t)})),e.on("updateChat",(function(e){h.push(e),v(Object(B.a)(h)),P()})),e.on("changeUsername",(function(e){I(e.username)})),1},L=function(e){e.preventDefault();var a=e.target.elements[0].value;q(a)||f.emit("sendMsg",{msg:a,room_id:t}),e.target.elements[0].value=""},P=function(){var e=document.getElementById("chat-box");e.scrollTop=e.scrollHeight},z=function(e){return e.map((function(e){var t=e.username,a=e.msg;return l.a.createElement("p",{className:"card msg z-depth-2",key:U()()},l.a.createElement("span",{className:"red-text title"},t),l.a.createElement("br",null),a)}))},M=function(e){return e.map((function(e){return l.a.createElement("li",{className:"btn text-font user-list-element",key:U()()},l.a.createElement("span",{className:"left"},e.username),l.a.createElement("span",{className:"small-ball right white"}),l.a.createElement("span",{className:"small-ball right white"}),l.a.createElement("span",{className:"small-ball right white"}))}))},T=function(e){return l.a.createElement("div",null,l.a.createElement("form",{className:"user-clicked",onSubmit:D},l.a.createElement("input",{id:"changeUsername",className:"text-font black-text center",type:"text",placeholder:e,disabled:!0})),l.a.createElement("button",{className:"btn-floating pink",onClick:function(e){e.preventDefault(),document.getElementById("changeUsername").disabled=!1}},l.a.createElement("i",{className:"material-icons right"},"edit")))},D=function(e){e.preventDefault();var t=e.target.elements[0].value;f.emit("changeUsername",{username:t});var a=document.getElementById("changeUsername");a.placeholder=t,a.disabled=!0},q=function(e){return""===(e=e.replace(/\s+/g,""))};return l.a.createElement("div",null,0===i?l.a.createElement(m.a.p,{variants:S,initial:"hidden",animate:"visible",className:"container loading-container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(m.a.td,{variants:j,className:"loading-ball pink"}),l.a.createElement(m.a.td,{variants:j,className:"loading-ball pink"}),l.a.createElement(m.a.td,{variants:j,className:"loading-ball pink"})):void 0,0!==i&&l.a.createElement(m.a.div,{variants:C,initial:"hidden",animate:"visible",className:"row card chat-room"},l.a.createElement("div",{className:"col l3 sidebar hide-on-small-only  "},l.a.createElement("h4",{className:"title-font center",id:"roomName"},i.roomName),l.a.createElement("br",null),l.a.createElement("ul",{id:"user-list",className:"user-list  scrollable"},l.a.createElement("li",{className:"btn text-font user-list-element "}," ",l.a.createElement("span",{className:"left"},"user")," ",l.a.createElement("span",{className:"small-ball right white"}),l.a.createElement("span",{className:"small-ball right white"}),l.a.createElement("span",{className:"small-ball right white"})),M(u)),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{className:"btn disabled lighten-4 text-font left"},l.a.createElement("span",{className:"black-text",id:"numUsers"},u.length),l.a.createElement("i",{className:"material-icons right black-text"},"group")),l.a.createElement("span",{className:"btn disabled lighten-4 text-font right"},l.a.createElement("a",{className:"black-text"},"Lis92kx8a"),l.a.createElement("i",{className:"material-icons right black-text"},"content_copy"))),l.a.createElement("br",null),l.a.createElement("br",null),T(O),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{className:"col l9 s12 chat-box-background "},l.a.createElement("div",{className:"chat-box  scrollable2",id:"chat-box"},l.a.createElement("p",{className:"card msg z-depth-2"},l.a.createElement("span",{className:"red-text title"},"Name"),l.a.createElement("br",null),"first message ever"),l.a.createElement("p",{className:"card msg z-depth-2"},l.a.createElement("span",{className:"red-text title"},"Name"),l.a.createElement("br",null),"Hello epic stranger!"),z(h)),l.a.createElement("form",{onSubmit:L,className:"input-field  msg-box"},l.a.createElement("input",{id:"chat-input",placeholder:"send message",type:"text"}),l.a.createElement("button",{className:"btn pink",type:"submit"},l.a.createElement("span",{className:"hide-on-small-only"},"Send"),l.a.createElement("i",{className:"material-icons right"},"send"))))))}var P=function(){return l.a.createElement("div",{className:"container"},l.a.createElement(c.a,null,l.a.createElement(b,null),l.a.createElement(f,null),l.a.createElement(s.b,{path:"/signup",component:w}),l.a.createElement(s.b,{path:"/login",component:k}),l.a.createElement(s.b,{exact:!0,path:"/",component:j}),l.a.createElement(s.b,{path:"/create",render:function(){return l.a.createElement(C,null)}}),l.a.createElement(s.b,{path:"/room/:room_id",component:L}),l.a.createElement(o.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){e.exports=a(123)},68:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.4d67c0b0.chunk.js.map